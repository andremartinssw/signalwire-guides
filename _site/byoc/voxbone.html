<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>SignalWire Guides</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/main.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="/">SignalWire Guides</a>
      </div>
    </nav>
    <div class="container main-area">
      <h1 id="byoc-with-voxbone-via-sip">BYOC with Voxbone via SIP</h1>

<p>SignalWire allows you to easily integrate with your existing providers via SIP. In this guide, we are going to see how to use <a href="https://www.voxbone.com/">Voxbone</a> to Bring Your Own Carrier (BYOC) to SignalWire.</p>

<p>Voxbone <a href="https://www.voxbone.com/">https://www.voxbone.com/</a> is a leading provider of SIP trunks, phone numbers and connectivity all over the world.</p>

<h2 id="getting-calls-from-voxbone-to-signalwire">Getting calls from Voxbone to SignalWire</h2>

<p>We are going to achieve the inbound part of the integration by using the SignalWire SIP Domain App feature, on which you can find more information <a href="/intros/sip_on_signalwire">here</a>.</p>

<p>First of all, create a new SIP Domain App in your SignalWire dashboard and take note of the URL you created. We suggest also pointing it at a simple LaML bin for testing.</p>

<p><img src="/assets/creating_domain_app.png" alt="Setting up a Domain App" /></p>

<p>Now, head over to Voxbone. Our first step will be to create a Voice URI corresponding to the Domain App you set up earlier. Go to <code class="highlighter-rouge">Configure &gt; Voice URIs</code> and create a new one.</p>

<p><img src="/assets/byoc/voxbone_voice_uri.png" alt="Voxbone voice URI creation" /></p>

<p>After setting that up, purchase a DID by going to <code class="highlighter-rouge">Buy &gt; Buy DIDs</code> and follow the process.</p>

<p>For some countries, you will need to provide extra information and proof of address. To link an address to your DIDs, use the <code class="highlighter-rouge">Configure &gt; Manage Addresses</code> page on the Voxbone website.</p>

<p><img src="/assets/byoc/voxbone_buy_dids.png" alt="Voxbone DID purchase" /></p>

<p>You will be transferred to the <code class="highlighter-rouge">Configure DID</code> screen.</p>

<p>Here you need to first search and select the DIDs you want to point at the Domain App. Once you have done that, click on the <code class="highlighter-rouge">Voice</code> tab, on <code class="highlighter-rouge">Voice URI</code>, pick the URI you created above, then apply the changes.</p>

<p><img src="/assets/byoc/voxbone_configure_did.png" alt="Voxbone DID purchase" /></p>

<p>Dial your new number, and hear the LaML output you set up earlier. Done!</p>

<blockquote>
  <p>Before you dial your number, check you have enough channels and capacity purchased on the Voxbone account. More information can be found <a href="https://support.voxbone.com/hc/en-us/articles/360001784418-Understanding-capacity-groups?flash_digest=011570b050314a2abbc768e75d2b632e75145792">here</a>.</p>
</blockquote>

<h2 id="outbound-dialing-over-voxbone-from-signalwire">Outbound dialing over Voxbone from SignalWire</h2>

<p>Dialing out from your SignalWire account over a Voxbone trunk is accomplished similarly to <a href="/intros/sip_on_signalwire">generic SIP usage</a>.</p>

<p>You will use a LaML or REST API request to dial out via SIP to Voxbone.</p>

<p>First of all, you need to set up your outbound credentials on Voxbone. Head to <code class="highlighter-rouge">Configure &gt; Configure Outbound Voice</code> and set a username and password.</p>

<p><img src="/assets/byoc/voxbone_outbound.png" alt="Voxbone Credentials" /></p>

<p>Voxbone provides an easy AnyCast IP address to use as the dial destination: <code class="highlighter-rouge">81.201.89.110</code>.</p>

<p>After you have those credentials, you can dial out from LaML by simply referencing your above credentials and the AnyCast IP. The user portion of your SIP address will be the phone number you would like to dial, ie. <code class="highlighter-rouge">+199955566777@81.201.89.110</code>.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;Response&gt;</span>
  <span class="nt">&lt;Dial</span> <span class="na">callerId=</span><span class="s">"+18889090909"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Sip</span> <span class="na">username=</span><span class="s">"youruser"</span> <span class="na">password=</span><span class="s">"yourpass"</span><span class="nt">&gt;</span>
      sip:+199955566777@81.201.89.110
    <span class="nt">&lt;/Sip&gt;</span>
  <span class="nt">&lt;/Dial&gt;</span>
<span class="nt">&lt;/Response&gt;</span>
</code></pre></div></div>

<p>The same thing goes for dialing out with the LaML REST API.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">require</span> <span class="s1">'signalwire/sdk'</span>
<span class="n">client</span> <span class="o">=</span> <span class="no">Signalwire</span><span class="o">::</span><span class="no">REST</span><span class="o">::</span><span class="no">Client</span><span class="p">.</span><span class="nf">new</span> <span class="s1">'your-project'</span><span class="p">,</span> <span class="s1">'your-token'</span><span class="p">,</span> <span class="ss">signalwire_space_url: </span><span class="s2">"example.signalwire.com"</span>

<span class="n">call</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">calls</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span>
  <span class="ss">url:  </span><span class="s1">'http://YOURSPACE.signalwire.com/YOUR-LAML-BIN-ID'</span><span class="p">,</span>
  <span class="ss">to:   </span><span class="s1">'sip:+199955566777@81.201.89.110'</span><span class="p">,</span>
  <span class="ss">from: </span><span class="s1">'+15559988777'</span><span class="p">,</span>
  <span class="ss">sip_auth_username: </span><span class="s1">'youruser'</span><span class="p">,</span>
  <span class="ss">sip_auth_password: </span><span class="s1">'yourpass'</span>
<span class="p">)</span>

<span class="nb">puts</span> <span class="n">call</span><span class="p">.</span><span class="nf">sid</span>
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://&lt;YOURSPACE&gt;.signalwire.com/api/laml/2010-04-01/Accounts/&lt;YOURACCOUNTSID&gt;/Calls.json <span class="se">\</span>
  <span class="nt">-X</span> POST <span class="se">\</span>
  <span class="nt">--data-urlencode</span> <span class="s2">"Url=http://your-application.com/docs/voice.xml"</span> <span class="se">\</span>
  <span class="nt">--data-urlencode</span> <span class="s2">"To=sip:+199955566777@81.201.89.110"</span> <span class="se">\</span>
  <span class="nt">--data-urlencode</span> <span class="s2">"From=+15550011222"</span> <span class="se">\</span>
  <span class="nt">--data-urlencode</span> <span class="s2">"SipAuthUsername=youruser"</span> <span class="se">\</span>
  <span class="nt">--data-urlencode</span> <span class="s2">"SipAuthPassword=yourpass"</span> <span class="se">\</span>
  <span class="nt">-u</span> <span class="s2">"YourProjectID:YourAuthToken"</span>
</code></pre></div></div>

<h2 id="conclusions">Conclusions</h2>

<p>Setting up Voxbone to integrate with SignalWire is easy and provides you access to DIDs from many countries. Let us know what you build!</p>

    </div>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js" integrity="sha384-6khuMg9gaYr5AxOqhkVIODVIvm9ynTT5J4V1cfthmT+emCG6yVmEZsRHdxlotUnm" crossorigin="anonymous"></script>
  </body>
</html>
